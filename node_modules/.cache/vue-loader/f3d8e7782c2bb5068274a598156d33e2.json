{"remainingRequest":"D:\\project\\haircut\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\haircut\\src\\views\\memberCenter.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\haircut\\src\\views\\memberCenter.vue","mtime":1604914839225},{"path":"D:\\project\\haircut\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\haircut\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\project\\haircut\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\haircut\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIOW4uOmHjwppbXBvcnQgY29uc3RhbnQgZnJvbSAiQC9jb25zdGFudC9tZW1iZXJDZW50ZXIuanMiOwppbXBvcnQgbGlzdCBmcm9tICJAL2NvbW1vbi9qc29uL2xpc3QuanNvbiI7Ci8vIG1peGlucwppbXBvcnQgcGFnaW5hdGlvbk1peGlucyBmcm9tICJAL2NvbW1vbi9taXhpbnMvcGFnaW5hdGlvbi5qcyI7Ci8vIOe7hOS7tgppbXBvcnQgYWRkVXNlciBmcm9tICJAL2NvbXBvbmVudHMvYWRkVXNlci52dWUiOwppbXBvcnQgZWRpdFVzZXIgZnJvbSAiQC9jb21wb25lbnRzL2VkaXRVc2VyLnZ1ZSI7CmltcG9ydCByZWNoYXJnZSBmcm9tICJAL2NvbXBvbmVudHMvcmVjaGFyZ2UudnVlIjsKaW1wb3J0IGNoYXJnZWJhY2sgZnJvbSAiQC9jb21wb25lbnRzL2NoYXJnZWJhY2sudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJtZW1iZXJDZW50ZXIiLAogIGNvbXBvbmVudHM6IHsgYWRkVXNlciwgZWRpdFVzZXIsIHJlY2hhcmdlLCBjaGFyZ2ViYWNrfSwKICBtaXhpbnM6IFtwYWdpbmF0aW9uTWl4aW5zXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGVsZXBob25lOiAnJywKICAgICAgdGFibGVEYXRhOiBbXSwgLy/ooajmoLzmlbDmja4KICAgICAgdGFibGVDb2x1bW5zOiBjb25zdGFudC5wYWdlVGFibGVDb2x1bW5zLCAvL+ihqOagvOihqOWktAogICAgICBhZGREaWFsb2c6IHsKICAgICAgICBpc1Nob3c6IGZhbHNlCiAgICAgIH0sCiAgICAgIGVkaXREaWFsb2c6IHsKICAgICAgICBpc1Nob3c6IGZhbHNlCiAgICAgIH0sCiAgICAgIHJlY2hhcmdlRGlhbG9nOiB7CiAgICAgICAgaXNTaG93OiBmYWxzZQogICAgICB9LAogICAgICBjaGFyZ2ViYWNrRGlhbG9nOiB7CiAgICAgICAgaXNTaG93OiBmYWxzZQogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRUYWJsZURhdGEoZmFsc2UpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8v6KGo5qC85a695bqmCiAgICB0YWJsZVNjcm9sbFdpZHRoKCkgewogICAgICBsZXQgbGVuZ3RoID0gMDsKICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLnRhYmxlQ29sdW1ucy5sZW5ndGg7IGorKykgewogICAgICAgIGxlbmd0aCArPSB0aGlzLnRhYmxlQ29sdW1uc1tqXS53aWR0aDsKICAgICAgfQogICAgICByZXR1cm4gbGVuZ3RoOwogICAgfSwKICAgIC8vIOihqOagvOmrmOW6pgogICAgdGFibGVTY3JvbGxIZWlnaHQoKSB7CiAgICAgIGxldCBjbGllbnRIZWlnaHQgPQogICAgICAgIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7CiAgICAgIHJldHVybiBjbGllbnRIZWlnaHQgLSAzNDA7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W6KGo5qC85pWw5o2uCiAgICBnZXRUYWJsZURhdGEocGFnaW5hdGlvbkZsYWcpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgbGV0IHBhcmFtcyA9IHt0ZWxlcGhvbmU6IHRoaXMudGVsZXBob25lfTsKICAgICAgcGFyYW1zLnBhZ2Vfc2l6ZSA9IHRoaXMucGFnaW5hdGlvbi5wYWdlX3NpemU7CiAgICAgIGlmIChwYWdpbmF0aW9uRmxhZykgewogICAgICAgIHBhcmFtcy5wYWdlID0gdGhpcy5wYWdpbmF0aW9uLmN1cnJlbnRfcGFnZTsKICAgICAgfQogICAgICB0aGlzLiRheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Qvc3JjL2NvbW1vbi9qc29uL2xpc3QuanNvbiIpLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIGxldCBhcnIgPSByZXMuZGF0YS5saXN0OwogICAgICB9KQogICAgICAvLyBsZXQgYXJyID0gbGlzdC5saXN0OwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBhcnJbaV07CiAgICAgICAgZWxlbWVudC5rZXkgPSAoaSArIDEpLnRvU3RyaW5nKCk7CiAgICAgIH0KICAgICAgdGhpcy50YWJsZURhdGEgPSBhcnI7CiAgICB9LAogICAgcmVjaGFyZ2UoKSB7CiAgICAgIHRoaXMucmVjaGFyZ2VEaWFsb2cgPSB7CiAgICAgICAgaXNTaG93OiB0cnVlCiAgICAgIH0KICAgIH0sCiAgICBjaGFyZ2ViYWNrKCkgewogICAgICB0aGlzLmNoYXJnZWJhY2tEaWFsb2cgPSB7CiAgICAgICAgaXNTaG93OiB0cnVlCiAgICAgIH0KICAgIH0sCiAgICBhZGQoKSB7CiAgICAgIHRoaXMuYWRkRGlhbG9nID0gewogICAgICAgIGlzU2hvdzogdHJ1ZQogICAgICB9CiAgICB9LAogICAgZWRpdChkYXRhKSB7CiAgICAgIHRoaXMuYWRkRGlhbG9nID0gewogICAgICAgIGlzU2hvdzogdHJ1ZSwKICAgICAgICBpdGVtOiBkYXRhCiAgICAgIH0KICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["memberCenter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"memberCenter.vue","sourceRoot":"src/views","sourcesContent":["<!--\n * @Description: \n * @Author: rk\n * @Date: 2020-11-09 14:55:41\n-->\n<template>\n  <div class=\"memberCenter\">\n    <a-form layout=\"inline\">\n      <a-row type=\"flex\" justify=\"space-between\">\n        <a-col>\n          <a-form-item>\n            <a-input\n              style=\"width: 300px\"\n              placeholder=\"可通过手机号进行搜索\"\n              v-model.trim=\"telephone\"\n              allowClear\n            ></a-input>\n          </a-form-item>\n          <a-form-item>\n            <a-button type=\"primary\" @click=\"getTableData(false)\">搜索</a-button>\n          </a-form-item>\n        </a-col>\n        <a-col>\n          <a-form-item>\n            <a-button type=\"primary\" @click=\"add\">添加用户</a-button>\n          </a-form-item>\n        </a-col>\n      </a-row>\n    </a-form>\n    <a-table\n        bordered\n        :dataSource=\"tableData\"\n        :columns=\"tableColumns\"\n        :pagination=\"false\"\n        style=\"margin: 15px 0\"\n        :scroll=\"{ x: tableScrollWidth, y: tableScrollHeight }\"\n        size=\"small\"\n      >\n        <template slot-scope=\"text, record\" slot=\"operation\">\n          <a-button type=\"primary\" size=\"small\" @click=\"recharge\">充值</a-button>\n          <a-button type=\"primary\" size=\"small\" style=\"margin: 0 15px\" @click=\"chargeback\">扣款</a-button>\n          <a-button\n            type=\"primary\"\n            size=\"small\"\n            @click=\"edit(record)\"\n            >编辑</a-button\n          >\n        </template>\n      </a-table>\n      <addUser :data=\"addDialog\"></addUser>\n      <editUser :data=\"editDialog\"></editUser>\n      <recharge :data=\"rechargeDialog\"></recharge>\n      <chargeback :data=\"chargebackDialog\"></chargeback>\n  </div>\n</template>\n<script>\n// 常量\nimport constant from \"@/constant/memberCenter.js\";\nimport list from \"@/common/json/list.json\";\n// mixins\nimport paginationMixins from \"@/common/mixins/pagination.js\";\n// 组件\nimport addUser from \"@/components/addUser.vue\";\nimport editUser from \"@/components/editUser.vue\";\nimport recharge from \"@/components/recharge.vue\";\nimport chargeback from \"@/components/chargeback.vue\";\nexport default {\n  name: \"memberCenter\",\n  components: { addUser, editUser, recharge, chargeback},\n  mixins: [paginationMixins],\n  data() {\n    return {\n      telephone: '',\n      tableData: [], //表格数据\n      tableColumns: constant.pageTableColumns, //表格表头\n      addDialog: {\n        isShow: false\n      },\n      editDialog: {\n        isShow: false\n      },\n      rechargeDialog: {\n        isShow: false\n      },\n      chargebackDialog: {\n        isShow: false\n      }\n    }\n  },\n  mounted() {\n    this.getTableData(false);\n  },\n  computed: {\n    //表格宽度\n    tableScrollWidth() {\n      let length = 0;\n      for (let j = 0; j < this.tableColumns.length; j++) {\n        length += this.tableColumns[j].width;\n      }\n      return length;\n    },\n    // 表格高度\n    tableScrollHeight() {\n      let clientHeight =\n        document.body.clientHeight || document.documentElement.clientHeight;\n      return clientHeight - 340;\n    },\n  },\n  methods: {\n    // 获取表格数据\n    getTableData(paginationFlag) {\n      let vm = this;\n      let params = {telephone: this.telephone};\n      params.page_size = this.pagination.page_size;\n      if (paginationFlag) {\n        params.page = this.pagination.current_page;\n      }\n      this.$axios.get(\"http://localhost/src/common/json/list.json\").then(res => {\n        console.log(res);\n        let arr = res.data.list;\n      })\n      // let arr = list.list;\n      for (let i = 0; i < arr.length; i++) {\n        const element = arr[i];\n        element.key = (i + 1).toString();\n      }\n      this.tableData = arr;\n    },\n    recharge() {\n      this.rechargeDialog = {\n        isShow: true\n      }\n    },\n    chargeback() {\n      this.chargebackDialog = {\n        isShow: true\n      }\n    },\n    add() {\n      this.addDialog = {\n        isShow: true\n      }\n    },\n    edit(data) {\n      this.addDialog = {\n        isShow: true,\n        item: data\n      }\n    },\n  }\n}\n</script>\n<style lang=\"scss\" scoped='scoped'>\n  .memberCenter {\n    background-color: #ffffff;\n    padding: 20px;\n  }\n</style>"]}]}