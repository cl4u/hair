{"remainingRequest":"D:\\project\\haircut\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\haircut\\src\\views\\memberCenter.vue?vue&type=style&index=0&id=47164497&lang=scss&scoped=scoped&","dependencies":[{"path":"D:\\project\\haircut\\src\\views\\memberCenter.vue","mtime":1604910571426},{"path":"D:\\project\\haircut\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\haircut\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\project\\haircut\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\project\\haircut\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\haircut\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\haircut\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLm1lbWJlckNlbnRlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsKfQo="},{"version":3,"sources":["memberCenter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA","file":"memberCenter.vue","sourceRoot":"src/views","sourcesContent":["<!--\n * @Description: \n * @Author: rk\n * @Date: 2020-11-09 14:55:41\n-->\n<template>\n  <div class=\"memberCenter\">\n    <a-form layout=\"inline\">\n      <a-form-item>\n        <a-input\n          style=\"width: 300px\"\n          placeholder=\"可通过手机号进行搜索\"\n          v-model.trim=\"telephone\"\n          allowClear\n        ></a-input>\n      </a-form-item>\n      <a-form-item>\n        <a-button type=\"primary\" @click=\"search(false)\">搜索</a-button>\n      </a-form-item>\n    </a-form>\n    <a-table\n        bordered\n        :dataSource=\"tableData\"\n        :columns=\"tableColumns\"\n        :loading=\"tableLoading\"\n        :pagination=\"false\"\n        style=\"margin: 15px 0\"\n        :scroll=\"{ x: tableScrollWidth, y: tableScrollHeight }\"\n        size=\"small\"\n      >\n        <template slot-scope=\"text, record\" slot=\"operation\">\n          <editProxy\n            :itemData=\"record\"\n            :getTableData=\"getTableData\"\n          ></editProxy>\n          <a-button\n            type=\"primary\"\n            size=\"small\"\n            @click=\"goExpressConfig(record)\"\n            style=\"margin-left: 15px\"\n            >快递配置</a-button\n          >\n        </template>\n      </a-table>\n      <!-- 分页 -->\n      <pagination :pagination=\"pagination\" />\n  </div>\n</template>\n<script>\n// 常量\nimport constant from \"@/constant/memberCenter.js\";\nimport list from \"@/common/json/list.js\";\n// mixins\nimport paginationMixins from \"@/common/mixins/pagination.js\";\n// 分页组件\nimport pagination from \"@/components/pagination.vue\";\nexport default {\n  name: \"memberCenter\",\n  components: { pagination },\n  mixins: [paginationMixins],\n  data() {\n    return {\n      telephone: '',\n      tableData: [], //表格数据\n      tableColumns: constant.pageTableColumns, //表格表头\n      tableLoading: false, //表格loading\n    }\n  },\n  mounted() {\n    this.getTableData(false);\n  },\n  computed: {\n    //表格宽度\n    tableScrollWidth() {\n      let length = 0;\n      for (let j = 0; j < this.tableColumns.length; j++) {\n        length += this.tableColumns[j].width;\n      }\n      return length;\n    },\n    // 表格高度\n    tableScrollHeight() {\n      let clientHeight =\n        document.body.clientHeight || document.documentElement.clientHeight;\n      return clientHeight - 340;\n    },\n  },\n  methods: {\n    // 获取表格数据\n    getTableData(paginationFlag) {\n      let vm = this;\n      let params = {telephone: this.telephone};\n      params.page_size = this.pagination.page_size;\n      if (paginationFlag) {\n        params.page = this.pagination.current_page;\n      }\n      this.tableLoading = true;\n      this.ProxyApi.proxyList(params).then((res) => {\n        vm.tableLoading = false;\n        if (res.status == 200) {\n          let arr = res.data.list;\n          for (let i = 0; i < arr.length; i++) {\n            const element = arr[i];\n            element.key = (i + 1).toString();\n            element.statusHtml = element.status == \"1\";\n          }\n          vm.tableData = arr;\n          const pagination = { ...vm.pagination };\n          pagination.totals = res.data.total;\n          if (!paginationFlag) {\n            pagination.current_page = 1;\n          }\n          vm.pagination = pagination;\n        }\n      });\n    },\n  }\n}\n</script>\n<style lang=\"scss\" scoped='scoped'>\n  .memberCenter {\n    background-color: #ffffff;\n  }\n</style>"]}]}